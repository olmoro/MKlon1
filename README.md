# <p align="center">MKlon1
# <p align="center">Вариант ЗУ с блоком управления на ESP32
## <p align="center">Модульное зарядное устройство на ESP-WROOM-32D - проект Arduino.
#### <p align="right">редакция от 25 декабря 2022 года

![](https://github.com/olmoro/MKlon1/blob/main/MKlon/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F/MKlon1full.png?raw=true)

### MKlon1 - это вариант ЗУ, в котором блок управления и силовой  блок выполнены на отдельных платах. Что это дает?

Во-первых блок управления - весьма универсальное устройство, применение которого не ограничивается зарядным устройством, чего не скажешь о силовом блоке, тем более, что силовой блок может "масштабироваться" - сегодня достаточно 6 ампер, а завтра ...

Во-вторых платы имеют максимальный размер не более 99,9 мм, что позволяет заказывать их на [JLCPCB](https://jlcpcb.com/) по символической цене.

И, наконец, в случае неприятностей с силовым блоком более дорогой блок управления пострадает в меньшей степени.

### <p align="center">Особенности реализации блока управления.

1. Модульность
  - Модуль [ESP32-DevKitC V4](https://aliexpress.ru/item/4000090521976.html?sku_id=12000029209753874&spm=a2g2w.productlist.search_results.11.73194aa62fyZl2). Можно, конечно, ограничиться другими версиями ESP32-DevKit с уже распаянным ESP-WROOM-32D, но перспективнее будет запаять ESP32 с 16МБ памяти самостоятельно вместо обычных 4МБ.
  - Модуль [SAMD21 M0-Mini](https://aliexpress.ru/item/4000169610268.html?sku_id=10000014439572098&spm=a2g2w.productlist.search_results.0.3e1d4aa6X9e9wa). 
  - [Модуль прецизионных часов DS3231 IIC](https://aliexpress.ru/item/32822420722.html?sku_id=10000000337849443&spm=a2g2w.productlist.search_results.0.282f4aa6NF9AEI). Опциональная позиция.
  - [Понижающий модуль LM2596](https://aliexpress.ru/item/32464248769.html?sku_id=66628643348&spm=a2g2w.productlist.search_results.0.24134aa6Yv9n3p).
  - [Полноцветный ЖК-дисплей 1,8 дюйма 1,8x128 SPI TFT 160*128, модуль ST7735S](https://aliexpress.ru/item/1005003768467259.html?sku_id=12000027098966793&spm=a2g2w.productlist.search_results.0.4e024aa67UD2Mu)
  - Или [ЖК-модуль HD 3,5 дюйма SPI, 480*320, TFT-модуль ILI9486 ILI9488, сенсорная панель, 65K цветов](https://sl.aliexpress.ru/p?key=ypWZtdN).  

2. Разъемы для установки модулей рекомендую не ставить те, что идут в комплекте, а использовать цанговые, где это возможно.

3. Подключение модуля дисплея. Посадочное место на плате имеет два ряда по 8 контактов, можно установить 8-контактный разъем для 1,8 дюймового дисплея или 14-контактный для 3,5-дюймового. В этом случае не устанавливаются RGB-светодиод и зуммер, так как портов ESP32 как бы много их не казалось, на всё не хватает.

4. Модуль питания следует установить на 5,5 вольт. Желательно заменить потенциометр на подобранный резистор от грех подальше.

5. Токовые шунты могут устанавливаться как проволочные, так и металлопленочные SMD из расчета не более 200 милливольт при максимальном токе разряда (и заряда тоже).


